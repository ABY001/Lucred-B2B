(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{480:function(e,t,n){"use strict";n(48);var o=n(120),r=n.n(o),c="https://lucred-backend.onrender.com/api/v1/";t.a={get:function(e){var t,n=null===(t=localStorage.getItem("b2b_token"))||void 0===t?void 0:t.replace(/^"(.+(?="$))"$/,"$1");return r.a.get(c+e,{headers:{"x-admin-token":n}})},create:function(e,t){return r.a.post(c+e,t)},post:function(e,t){var n,o=null===(n=localStorage.getItem("b2b_token"))||void 0===n?void 0:n.replace(/^"(.+(?="$))"$/,"$1");return console.log(o),r.a.post(c+e,t,{headers:{"x-admin-token":o}})},upload:function(e,t){var n,o=null===(n=localStorage.getItem("b2b_token"))||void 0===n?void 0:n.replace(/^"(.+(?="$))"$/,"$1");return console.log(o),r.a.post(c+e,t,{headers:{"x-admin-token":o,"Content-Type":"multipart/form-data"}})},update:function(e,t){var n,o=null===(n=localStorage.getItem("b2b_token"))||void 0===n?void 0:n.replace(/^"(.+(?="$))"$/,"$1");return r.a.put(c+e,t,{headers:{"x-admin-token":o,"Content-Type":"multipart/form-data"}})},put:function(e,t){var n,o=null===(n=localStorage.getItem("b2b_token"))||void 0===n?void 0:n.replace(/^"(.+(?="$))"$/,"$1");return r.a.put(c+e,t,{headers:{"x-admin-token":o}})},updateUpload:function(e,t){var n,o=null===(n=localStorage.getItem("b2b_token"))||void 0===n?void 0:n.replace(/^"(.+(?="$))"$/,"$1");return r.a.patch(c+e,t,{headers:{"x-admin-token":o,"Content-Type":"multipart/form-data"}})},delete:function(e){var t,n=null===(t=localStorage.getItem("b2b_token"))||void 0===t?void 0:t.replace(/^"(.+(?="$))"$/,"$1");return r.a.delete(c+e,{headers:{"x-admin-token":n}})}}},701:function(e,t,n){"use strict";n.r(t);var o=n(27),r=(n(90),n(7),n(21),n(46),n(480)),c={layout:"dashboard",name:"Dashboard",data:function(){return{dialog:!1,search:null,dialogDelete:!1,createMode:!0,editMode:!1,viewMode:!1,loading:!1,notificationDialog:!1,headers:[{text:"Email",value:"email"},{text:"First Name",value:"firstname"},{text:"Last Name",value:"lastname"},{text:"Company Name",value:"companyName"},{text:"Account Status",value:"accountStatus"},{text:"Actions",value:"actions",sortable:!1}],Merchants:[{employeeId:"1000001",firstname:"Azeez",lastname:"Lawal",email:"azeezlawal@lucred.com",companyName:"Lucred",walletBalance:"5000",totalOrders:"4",phone:"08138927498",accountStatus:"Pending"},{employeeId:"1000002",firstname:"Tobi",lastname:"Tosin",email:"tobitosin@lucred.com",companyName:"Lucred",walletBalance:"6000",totalOrders:"4",phone:"08148227498",accountStatus:"Approved"},{employeeId:"1000003",firstname:"Steph",lastname:"Curry",email:"stephcurry@lucred.com",companyName:"Lucred",walletBalance:"5000",totalOrders:"3",phone:"08126827498",accountStatus:"Pending"},{employeeId:"1000004",firstname:"Michael",lastname:"Jordan",email:"michaeljordan@lucred.com",companyName:"Lucred",walletBalance:"8000",totalOrders:"8",phone:"08135677498",accountStatus:"Approved"},{employeeId:"1000005",firstname:"John",lastname:"Doe",email:"johndoe@lucred.com",companyName:"Lucred",walletBalance:"1000",totalOrders:"6",phone:"08138924356",accountStatus:"Pending"}],SingleMerchant:[],categories:[],selectedCategories:[],allCategories:[],id:"",editedIndex:-1,item:{title:"",message:""},editedItem:{employeeId:"",firstname:"",lastname:"",email:"",companyName:"",walletBalance:"",totalProducts:"",totalOrders:"",currentRevenue:"",accountStatus:""},defaultItem:{employeeId:"",firstname:"",lastname:"",email:"",companyName:"",walletBalance:"",totalProducts:"",totalOrders:"",currentRevenue:"",accountStatus:""},snackbar:!1,color:"green",text:"",vertical:!0}},computed:{token:function(){return this.$store.state.token},formTitle:function(){return!0===this.editMode?"Edit Employee":!0===this.createMode?"Create Employee":"View Employee"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{addToOptions:function(){this.editedItem.options.push({type:this.type,specifications:this.specs}),this.type=void 0,this.specs=void 0,this.$store.commit("snackbar/show",{text:"options updated successfully",icon:"success"})},handleSelect:function(e){if(this.selectedCategories.length>=2)this.$store.commit("snackbar/show",{text:"You can only add a maximum of 2 categories",icon:"error"});else{var t=this.allCategories.filter((function(t){return t.name==e[e.length-1]}));this.selectedCategories.push(t[0])}},initialize:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("merchants/all?size=99999999999999",{headers:{"x-admin-token":e.token}});case 2:n=t.sent,e.Merchants=n.data.data,e.getCategories();case 5:case"end":return t.stop()}}),t)})))()},getAMerchant:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.get("merchants/".concat(e),{headers:{"x-admin-token":t.token}});case 2:return o=n.sent,t.SingleMerchant=o.data.data,n.abrupt("return",t.SingleMerchant);case 5:case"end":return n.stop()}}),n)})))()},deleteMerchant:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.Merchants=t.Merchants.filter((function(t){return t.employeeId!=e})),console.log("mmmmmm",t.Merchants);case 2:case"end":return n.stop()}}),n)})))()},getCategories:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.get("categories?size=99999999999999");case 2:n=t.sent,e.allCategories=n.data.data.map((function(e){return{id:e._id,name:e.name}})),e.categories=e.allCategories.map((function(e){return e.name}));case 5:case"end":return t.stop()}}),t)})))()},createItem:function(){this.createMode=!0,this.viewMode=!1,this.editMode=!1,this.disabled=!1,this.dialog=!0},editItem:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.editedIndex=t.Merchants.indexOf(e),t.editedItem=Object.assign({},e),t.createMode=!1,t.viewMode=!1,t.editMode=!0,t.disabled=!1,t.dialog=!0;case 7:case"end":return n.stop()}}),n)})))()},viewItem:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.editedIndex=t.Merchants.indexOf(e),t.editedItem=Object.assign({},e),t.createMode=!1,t.editMode=!1,t.viewMode=!0,t.disabled=!0,t.dialog=!0;case 7:case"end":return n.stop()}}),n)})))()},sendNotificationItem:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.editedIndex=t.Merchants.indexOf(e),t.editedItem=Object.assign({},e),t.notificationDialog=!0;case 3:case"end":return n.stop()}}),n)})))()},sendNotification:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data={title:e.item.title,message:e.item.message,notificationId:e.editedItem.notificationId},t.next=3,e.$axios.post("/admin/push/notification",data,{headers:{"x-admin-token":e.token}});case 3:200==(n=t.sent).data.statusCode?(e.color="green",e.text=n.data.message,e.snackbar=!0):(e.color="red",e.text=n.data.message,e.snackbar=!0),e.close();case 6:case"end":return t.stop()}}),t)})))()},deleteItem:function(e){this.id=e.employeeId,this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteMerchant(e.id);case 2:t.sent,e.closeDelete(),e.initialize(),e.$store.commit("snackbar/show",{text:"Employee deleted successfully",icon:"success"});case 6:case"end":return t.stop()}}),t)})))()},close:function(){var e=this;this.dialog=!1,this.notificationDialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),this.createMode=!0},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,setTimeout((function(){e.$store.commit("snackbar/show",{text:"Employee editted successfully",icon:"success"}),e.loading=!1,e.close()}),3e3);case 2:case"end":return t.stop()}}),t)})))()},uploadProfilePhoto:function(e){var t=this;this.editedItem.logo=e;var n=new FileReader;n.onload=function(e){t.logo=e.target.result},n.readAsDataURL(e),n.onabort=function(){}}}},l=n(22),d=n(30),m=n.n(d),v=n(212),f=n(198),h=n(63),x=n(467),k=n(463),I=n(688),w=n(696),_=n(468),y=n(190),M=n(152),$=n(196),C=n(184),O=n(469),S=n(473),R=n(470),D=n(56),N=n(471),V=n(53),T=n(72),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{attrs:{cols:"auto"}},[n("v-text-field",{attrs:{id:"search",name:"search",placeholder:"Search","append-icon":"mdi-magnify",solo:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){return e.createItem()}}},[e._v("\n        Add Employee\n      ")])],1)],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-data-iterator",{attrs:{items:e.Merchants,search:e.search,"hide-default-footer":"","disable-pagination":""},scopedSlots:e._u([{key:"no-data",fn:function(){return[n("div",{staticClass:"text-center"},[e._v("No Merchant available or found.")])]},proxy:!0},{key:"default",fn:function(t){var o=t.items;return[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:o},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[e._v("Product Category list")]),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-spacer")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.viewItem(o)}}},[e._v("\n              mdi-eye\n            ")]),e._v(" "),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(o)}}},[e._v("\n              mdi-pencil\n            ")]),e._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(o)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[n("v-overlay",{attrs:{opacity:.75,value:!0}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)]},proxy:!0}],null,!0)})]}}])}),e._v(" "),n("v-dialog",{attrs:{"max-width":"750px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),e._v(" "),n("v-card-text",[n("v-container",[n("v-row",[e.createMode?e._e():n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode||e.editMode,label:"Employee Id"},model:{value:e.editedItem.employeeId,callback:function(t){e.$set(e.editedItem,"employeeId",t)},expression:"editedItem.employeeId"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"First Name"},model:{value:e.editedItem.firstname,callback:function(t){e.$set(e.editedItem,"firstname",t)},expression:"editedItem.firstname"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"Last Name"},model:{value:e.editedItem.lastname,callback:function(t){e.$set(e.editedItem,"lastname",t)},expression:"editedItem.lastname"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"Email"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"Company Name"},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}})],1),e._v(" "),e.viewMode?n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"Wallet Balance"},model:{value:e.editedItem.walletBalance,callback:function(t){e.$set(e.editedItem,"walletBalance",t)},expression:"editedItem.walletBalance"}})],1):e._e(),e._v(" "),e.viewMode?n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"Total Orders"},model:{value:e.editedItem.totalOrders,callback:function(t){e.$set(e.editedItem,"totalOrders",t)},expression:"editedItem.totalOrders"}})],1):e._e(),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{disabled:e.viewMode,label:"Phone"},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1)],1)],1)],1),e._v(" "),e.viewMode?e._e():n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading},on:{click:e.save}},[e._v("\n            Save\n          ")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"750px"},model:{value:e.notificationDialog,callback:function(t){e.notificationDialog=t},expression:"notificationDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Send Notification")])]),e._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Title"},model:{value:e.item.title,callback:function(t){e.$set(e.item,"title",t)},expression:"item.title"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{label:"Message","auto-grow":""},model:{value:e.item.message,callback:function(t){e.$set(e.item,"message",t)},expression:"item.message"}})],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.sendNotification}},[e._v("\n            Send\n          ")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v("\n          Are you sure you want to delete this item?\n        ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),e._v(" "),n("v-spacer")],1)],1)],1),e._v(" "),n("v-snackbar",{attrs:{timeout:6e3,top:"",right:"",tile:"",color:e.color},scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[n("v-btn",e._b({attrs:{color:"black",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",o,!1),[e._v("\n          Close\n        ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.text)+"\n\n      ")])],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:v.a,VCard:f.a,VCardActions:h.a,VCardText:h.b,VCardTitle:h.c,VCol:x.a,VContainer:k.a,VDataIterator:I.a,VDataTable:w.a,VDialog:_.a,VDivider:y.a,VIcon:M.a,VOverlay:$.a,VProgressCircular:C.a,VRow:O.a,VSnackbar:S.a,VSpacer:R.a,VTextField:D.a,VTextarea:N.a,VToolbar:V.a,VToolbarTitle:T.a})}}]);